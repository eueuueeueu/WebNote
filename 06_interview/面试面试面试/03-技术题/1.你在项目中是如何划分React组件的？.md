## 4139\. 你在项目中是如何划分 React 组件的？ 

## 回答重点

React 组件的划分主要遵循以下几个原则：

### 1）单一职责原则

每个组件只负责一个功能或者一个独立的视图单元。比如一个表单组件只负责处理表单相关的逻辑,一个列表组件只负责展示列表数据。

### 2）组件的粒度

根据业务复杂度和组件的复用性来确定组件的粒度:

- 容器组件:负责数据获取和状态管理
- 展示组件:负责根据 props 渲染 UI
- 通用组件:可在多处复用的基础组件

### 3）组件的分类

按照功能职责将组件分为:

1.页面组件:对应具体的路由页面 

2.布局组件:负责页面结构布局 

3.业务组件:实现具体业务功能

 4.基础组件:通用的 UI 组件

## 扩展知识

### 1）组件设计原则

组件设计需要遵循以下原则:

纯函数原则:组件应该是纯函数,相同的输入产生相同的输出

可预测性:组件的行为应该是可预测的,避免副作用

可测试性:组件应该方便进行单元测试

### 2）组件通信方式

组件之间的通信方式包括:

Props 传递:父组件向子组件传递数据

Context:跨层级组件共享数据

事件总线:组件间的消息通信

状态管理:Redux/Mobx 等进行统一状态管理

### 3）组件性能优化

可以通过以下方式优化组件性能:

React.memo():对组件进行记忆化处理

useMemo/useCallback:缓存计算结果和回调函数

合理的组件拆分:避免不必要的重渲染

相关的 React 官方文档:

- 组件设计原则: [https://zh-hans.react.dev/learn/thinking-in-react](https://zh-hans.react.dev/learn/thinking-in-react)
- 组件性能优化: [https://zh-hans.react.dev/reference/react/memo](https://zh-hans.react.dev/reference/react/memo)

